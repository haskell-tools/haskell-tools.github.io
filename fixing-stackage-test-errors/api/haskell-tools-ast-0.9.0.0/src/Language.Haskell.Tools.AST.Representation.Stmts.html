<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | Representation of Haskell statements (both do-notation and comprehensions)</span><span>
</span><a name="line-2"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Language</span><span class="hs-operator">.</span><span class="hs-identifier">Haskell</span><span class="hs-operator">.</span><span class="hs-identifier">Tools</span><span class="hs-operator">.</span><span class="hs-identifier">AST</span><span class="hs-operator">.</span><span class="hs-identifier">Representation</span><span class="hs-operator">.</span><span class="hs-identifier">Stmts</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-3"></a><span>
</span><a name="line-4"></a><span class="hs-keyword">import</span><span> </span><a href="Language.Haskell.Tools.AST.Ann.html"><span class="hs-identifier">Language</span><span class="hs-operator">.</span><span class="hs-identifier">Haskell</span><span class="hs-operator">.</span><span class="hs-identifier">Tools</span><span class="hs-operator">.</span><span class="hs-identifier">AST</span><span class="hs-operator">.</span><span class="hs-identifier">Ann</span></a><span> </span><span class="hs-special">(</span><a href="Language.Haskell.Tools.AST.Ann.html#Ann"><span class="hs-identifier hs-type">Ann</span></a><span class="hs-special">,</span><span> </span><a href="Language.Haskell.Tools.AST.Ann.html#AnnListG"><span class="hs-identifier hs-type">AnnListG</span></a><span class="hs-special">,</span><span> </span><a href="Language.Haskell.Tools.AST.Ann.html#AnnMaybeG"><span class="hs-identifier hs-type">AnnMaybeG</span></a><span class="hs-special">)</span><span>
</span><a name="line-5"></a><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE #-}</span><span> </span><a href="Language.Haskell.Tools.AST.Representation.Binds.html"><span class="hs-identifier">Language</span><span class="hs-operator">.</span><span class="hs-identifier">Haskell</span><span class="hs-operator">.</span><span class="hs-identifier">Tools</span><span class="hs-operator">.</span><span class="hs-identifier">AST</span><span class="hs-operator">.</span><span class="hs-identifier">Representation</span><span class="hs-operator">.</span><span class="hs-identifier">Binds</span></a><span> </span><span class="hs-special">(</span><a href="Language.Haskell.Tools.AST.Representation.Binds.html#ULocalBind"><span class="hs-identifier hs-type">ULocalBind</span></a><span class="hs-special">)</span><span>
</span><a name="line-6"></a><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE #-}</span><span> </span><a href="Language.Haskell.Tools.AST.Representation.Exprs.html"><span class="hs-identifier">Language</span><span class="hs-operator">.</span><span class="hs-identifier">Haskell</span><span class="hs-operator">.</span><span class="hs-identifier">Tools</span><span class="hs-operator">.</span><span class="hs-identifier">AST</span><span class="hs-operator">.</span><span class="hs-identifier">Representation</span><span class="hs-operator">.</span><span class="hs-identifier">Exprs</span></a><span> </span><span class="hs-special">(</span><a href="Language.Haskell.Tools.AST.Representation.Exprs.html#UExpr"><span class="hs-identifier hs-type">UExpr</span></a><span class="hs-special">,</span><span> </span><a href="Language.Haskell.Tools.AST.Representation.Exprs.html#UCmd"><span class="hs-identifier hs-type">UCmd</span></a><span class="hs-special">)</span><span>
</span><a name="line-7"></a><span class="hs-keyword">import</span><span> </span><a href="Language.Haskell.Tools.AST.Representation.Patterns.html"><span class="hs-identifier">Language</span><span class="hs-operator">.</span><span class="hs-identifier">Haskell</span><span class="hs-operator">.</span><span class="hs-identifier">Tools</span><span class="hs-operator">.</span><span class="hs-identifier">AST</span><span class="hs-operator">.</span><span class="hs-identifier">Representation</span><span class="hs-operator">.</span><span class="hs-identifier">Patterns</span></a><span> </span><span class="hs-special">(</span><a href="Language.Haskell.Tools.AST.Representation.Patterns.html#UPattern"><span class="hs-identifier hs-type">UPattern</span></a><span class="hs-special">)</span><span>
</span><a name="line-8"></a><span>
</span><a name="line-9"></a><span class="hs-comment">-- | Normal monadic statements</span><span>
</span><a name="line-10"></a><span class="hs-keyword">data</span><span> </span><a name="UStmt%27"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UStmt%27"><span class="hs-identifier">UStmt'</span></a></a><span> </span><a name="local-6989586621679236716"><a href="#local-6989586621679236716"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-6989586621679236717"><a href="#local-6989586621679236717"><span class="hs-identifier">dom</span></a></a><span> </span><a name="local-6989586621679236718"><a href="#local-6989586621679236718"><span class="hs-identifier">stage</span></a></a><span>
</span><a name="line-11"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="UBindStmt"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UBindStmt"><span class="hs-identifier">UBindStmt</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="_stmtPattern"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#_stmtPattern"><span class="hs-identifier">_stmtPattern</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.Haskell.Tools.AST.Ann.html#Ann"><span class="hs-identifier hs-type">Ann</span></a><span> </span><a href="Language.Haskell.Tools.AST.Representation.Patterns.html#UPattern"><span class="hs-identifier hs-type">UPattern</span></a><span> </span><a href="#local-6989586621679236717"><span class="hs-identifier hs-type">dom</span></a><span> </span><a href="#local-6989586621679236718"><span class="hs-identifier hs-type">stage</span></a><span>
</span><a name="line-12"></a><span>              </span><span class="hs-special">,</span><span> </span><a name="_stmtExpr"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#_stmtExpr"><span class="hs-identifier">_stmtExpr</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.Haskell.Tools.AST.Ann.html#Ann"><span class="hs-identifier hs-type">Ann</span></a><span> </span><a href="#local-6989586621679236716"><span class="hs-identifier hs-type">expr</span></a><span> </span><a href="#local-6989586621679236717"><span class="hs-identifier hs-type">dom</span></a><span> </span><a href="#local-6989586621679236718"><span class="hs-identifier hs-type">stage</span></a><span>
</span><a name="line-13"></a><span>              </span><span class="hs-special">}</span><span> </span><span class="hs-comment">-- ^ Binding statement (@ x &lt;- action @)</span><span>
</span><a name="line-14"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="UExprStmt"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UExprStmt"><span class="hs-identifier">UExprStmt</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="_stmtExpr"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#_stmtExpr"><span class="hs-identifier">_stmtExpr</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.Haskell.Tools.AST.Ann.html#Ann"><span class="hs-identifier hs-type">Ann</span></a><span> </span><a href="#local-6989586621679236716"><span class="hs-identifier hs-type">expr</span></a><span> </span><a href="#local-6989586621679236717"><span class="hs-identifier hs-type">dom</span></a><span> </span><a href="#local-6989586621679236718"><span class="hs-identifier hs-type">stage</span></a><span>
</span><a name="line-15"></a><span>              </span><span class="hs-special">}</span><span> </span><span class="hs-comment">-- ^ Non-binding statement (@ action @)</span><span>
</span><a name="line-16"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ULetStmt"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#ULetStmt"><span class="hs-identifier">ULetStmt</span></a></a><span>  </span><span class="hs-special">{</span><span> </span><a name="_stmtBinds"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#_stmtBinds"><span class="hs-identifier">_stmtBinds</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.Haskell.Tools.AST.Ann.html#AnnListG"><span class="hs-identifier hs-type">AnnListG</span></a><span> </span><a href="Language.Haskell.Tools.AST.Representation.Binds.html#ULocalBind"><span class="hs-identifier hs-type">ULocalBind</span></a><span> </span><a href="#local-6989586621679236717"><span class="hs-identifier hs-type">dom</span></a><span> </span><a href="#local-6989586621679236718"><span class="hs-identifier hs-type">stage</span></a><span>
</span><a name="line-17"></a><span>              </span><span class="hs-special">}</span><span> </span><span class="hs-comment">-- ^ Let statement (@ let x = 3; y = 4 @)</span><span>
</span><a name="line-18"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="URecStmt"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#URecStmt"><span class="hs-identifier">URecStmt</span></a></a><span>  </span><span class="hs-special">{</span><span> </span><a name="_cmdStmtBinds"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#_cmdStmtBinds"><span class="hs-identifier">_cmdStmtBinds</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.Haskell.Tools.AST.Ann.html#AnnListG"><span class="hs-identifier hs-type">AnnListG</span></a><span> </span><span class="hs-special">(</span><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UStmt%27"><span class="hs-identifier hs-type">UStmt'</span></a><span> </span><a href="#local-6989586621679236716"><span class="hs-identifier hs-type">expr</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679236717"><span class="hs-identifier hs-type">dom</span></a><span> </span><a href="#local-6989586621679236718"><span class="hs-identifier hs-type">stage</span></a><span>
</span><a name="line-19"></a><span>              </span><span class="hs-special">}</span><span> </span><span class="hs-comment">-- ^ A recursive binding statement with (@ rec b &lt;- f a c; c &lt;- f b a @)</span><span>
</span><a name="line-20"></a><span class="hs-keyword">type</span><span> </span><a name="UStmt"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UStmt"><span class="hs-identifier">UStmt</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UStmt%27"><span class="hs-identifier hs-type">UStmt'</span></a><span> </span><a href="Language.Haskell.Tools.AST.Representation.Exprs.html#UExpr"><span class="hs-identifier hs-type">UExpr</span></a><span>
</span><a name="line-21"></a><span class="hs-keyword">type</span><span> </span><a name="UCmdStmt"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UCmdStmt"><span class="hs-identifier">UCmdStmt</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UStmt%27"><span class="hs-identifier hs-type">UStmt'</span></a><span> </span><a href="Language.Haskell.Tools.AST.Representation.Exprs.html#UCmd"><span class="hs-identifier hs-type">UCmd</span></a><span>
</span><a name="line-22"></a><span>
</span><a name="line-23"></a><span class="hs-comment">-- | Body of a list comprehension: (@ | x &lt;- [1..10] @)</span><span>
</span><a name="line-24"></a><span class="hs-keyword">data</span><span> </span><a name="UListCompBody"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UListCompBody"><span class="hs-identifier">UListCompBody</span></a></a><span> </span><a name="local-6989586621679236714"><a href="#local-6989586621679236714"><span class="hs-identifier">dom</span></a></a><span> </span><a name="local-6989586621679236715"><a href="#local-6989586621679236715"><span class="hs-identifier">stage</span></a></a><span>
</span><a name="line-25"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="UListCompBody"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UListCompBody"><span class="hs-identifier">UListCompBody</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="_compStmts"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#_compStmts"><span class="hs-identifier">_compStmts</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.Haskell.Tools.AST.Ann.html#AnnListG"><span class="hs-identifier hs-type">AnnListG</span></a><span> </span><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UCompStmt"><span class="hs-identifier hs-type">UCompStmt</span></a><span> </span><a href="#local-6989586621679236714"><span class="hs-identifier hs-type">dom</span></a><span> </span><a href="#local-6989586621679236715"><span class="hs-identifier hs-type">stage</span></a><span>
</span><a name="line-26"></a><span>                  </span><span class="hs-special">}</span><span> </span><span>
</span><a name="line-27"></a><span>         </span><span>
</span><a name="line-28"></a><span class="hs-comment">-- | List comprehension statement</span><span>
</span><a name="line-29"></a><span class="hs-keyword">data</span><span> </span><a name="UCompStmt"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UCompStmt"><span class="hs-identifier">UCompStmt</span></a></a><span> </span><a name="local-6989586621679236712"><a href="#local-6989586621679236712"><span class="hs-identifier">dom</span></a></a><span> </span><a name="local-6989586621679236713"><a href="#local-6989586621679236713"><span class="hs-identifier">stage</span></a></a><span>
</span><a name="line-30"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="UCompStmt"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UCompStmt"><span class="hs-identifier">UCompStmt</span></a></a><span>  </span><span class="hs-special">{</span><span> </span><a name="_compStmt"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#_compStmt"><span class="hs-identifier">_compStmt</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.Haskell.Tools.AST.Ann.html#Ann"><span class="hs-identifier hs-type">Ann</span></a><span> </span><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UStmt"><span class="hs-identifier hs-type">UStmt</span></a><span> </span><a href="#local-6989586621679236712"><span class="hs-identifier hs-type">dom</span></a><span> </span><a href="#local-6989586621679236713"><span class="hs-identifier hs-type">stage</span></a><span>
</span><a name="line-31"></a><span>               </span><span class="hs-special">}</span><span> </span><span class="hs-comment">-- ^ Normal monadic statement of a list comprehension</span><span>
</span><a name="line-32"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="UThenStmt"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UThenStmt"><span class="hs-identifier">UThenStmt</span></a></a><span>  </span><span class="hs-special">{</span><span> </span><a name="_thenExpr"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#_thenExpr"><span class="hs-identifier">_thenExpr</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.Haskell.Tools.AST.Ann.html#Ann"><span class="hs-identifier hs-type">Ann</span></a><span> </span><a href="Language.Haskell.Tools.AST.Representation.Exprs.html#UExpr"><span class="hs-identifier hs-type">UExpr</span></a><span> </span><a href="#local-6989586621679236712"><span class="hs-identifier hs-type">dom</span></a><span> </span><a href="#local-6989586621679236713"><span class="hs-identifier hs-type">stage</span></a><span>
</span><a name="line-33"></a><span>               </span><span class="hs-special">,</span><span> </span><a name="_byExpr"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#_byExpr"><span class="hs-identifier">_byExpr</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.Haskell.Tools.AST.Ann.html#AnnMaybeG"><span class="hs-identifier hs-type">AnnMaybeG</span></a><span> </span><a href="Language.Haskell.Tools.AST.Representation.Exprs.html#UExpr"><span class="hs-identifier hs-type">UExpr</span></a><span> </span><a href="#local-6989586621679236712"><span class="hs-identifier hs-type">dom</span></a><span> </span><a href="#local-6989586621679236713"><span class="hs-identifier hs-type">stage</span></a><span>
</span><a name="line-34"></a><span>               </span><span class="hs-special">}</span><span> </span><span class="hs-comment">-- ^ Then statements by @TransformListComp@ (@ then sortWith by (x + y) @)</span><span>
</span><a name="line-35"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="UGroupStmt"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UGroupStmt"><span class="hs-identifier">UGroupStmt</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="_byExpr"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#_byExpr"><span class="hs-identifier">_byExpr</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.Haskell.Tools.AST.Ann.html#AnnMaybeG"><span class="hs-identifier hs-type">AnnMaybeG</span></a><span> </span><a href="Language.Haskell.Tools.AST.Representation.Exprs.html#UExpr"><span class="hs-identifier hs-type">UExpr</span></a><span> </span><a href="#local-6989586621679236712"><span class="hs-identifier hs-type">dom</span></a><span> </span><a href="#local-6989586621679236713"><span class="hs-identifier hs-type">stage</span></a><span>
</span><a name="line-36"></a><span>               </span><span class="hs-special">,</span><span> </span><a name="_usingExpr"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#_usingExpr"><span class="hs-identifier">_usingExpr</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.Haskell.Tools.AST.Ann.html#AnnMaybeG"><span class="hs-identifier hs-type">AnnMaybeG</span></a><span> </span><a href="Language.Haskell.Tools.AST.Representation.Exprs.html#UExpr"><span class="hs-identifier hs-type">UExpr</span></a><span> </span><a href="#local-6989586621679236712"><span class="hs-identifier hs-type">dom</span></a><span> </span><a href="#local-6989586621679236713"><span class="hs-identifier hs-type">stage</span></a><span>
</span><a name="line-37"></a><span>               </span><span class="hs-special">}</span><span> </span><span class="hs-comment">-- ^ Grouping statements by @TransformListComp@ (@ then group by (x + y) using groupWith @) </span><span>
</span><a name="line-38"></a><span>                 </span><span class="hs-comment">-- Note: either byExpr or usingExpr must have a value</span><span>
</span><a name="line-39"></a><span>
</span><a name="line-40"></a><span class="hs-comment">-- | Keywords @do@ or @mdo@ to start a do-block</span><span>
</span><a name="line-41"></a><span class="hs-keyword">data</span><span> </span><a name="UDoKind"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UDoKind"><span class="hs-identifier">UDoKind</span></a></a><span> </span><a name="local-6989586621679236710"><a href="#local-6989586621679236710"><span class="hs-identifier">dom</span></a></a><span> </span><a name="local-6989586621679236711"><a href="#local-6989586621679236711"><span class="hs-identifier">stage</span></a></a><span>
</span><a name="line-42"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="UDoKeyword"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UDoKeyword"><span class="hs-identifier">UDoKeyword</span></a></a><span>
</span><a name="line-43"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="UMDoKeyword"><a href="Language.Haskell.Tools.AST.Representation.Stmts.html#UMDoKeyword"><span class="hs-identifier">UMDoKeyword</span></a></a><span>                 </span></pre></body></html>