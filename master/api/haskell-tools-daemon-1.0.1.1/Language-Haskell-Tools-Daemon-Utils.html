<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Language.Haskell.Tools.Daemon.Utils</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Language.Haskell.Tools.Daemon.Utils.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">haskell-tools-daemon-1.0.1.1: Background process for Haskell-tools that editors can connect to.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Language.Haskell.Tools.Daemon.Utils</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Utility operations for the reprsentation of module collections.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:moduleCollectionPkgId">moduleCollectionPkgId</a> :: <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../base-4.10.1.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:lookupModuleColl">lookupModuleColl</a> :: <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey)</li><li class="src short"><a href="#v:lookupSourceFileColl">lookupSourceFileColl</a> :: <a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey)</li><li class="src short"><a href="#v:lookupModuleCollection">lookupModuleCollection</a> :: <a href="../ghc-8.2.2/HscTypes.html#t:ModSummary">ModSummary</a> -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey)</li><li class="src short"><a href="#v:lookupModuleInSCs">lookupModuleInSCs</a> :: <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (SourceFileKey, <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleRecord">ModuleRecord</a>)</li><li class="src short"><a href="#v:lookupModInSCs">lookupModInSCs</a> :: SourceFileKey -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (SourceFileKey, <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleRecord">ModuleRecord</a>)</li><li class="src short"><a href="#v:lookupSFKInSCs">lookupSFKInSCs</a> :: SourceFileKey -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleRecord">ModuleRecord</a></li><li class="src short"><a href="#v:removeModule">removeModule</a> :: <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey]</li><li class="src short"><a href="#v:removeModuleMS">removeModuleMS</a> :: <a href="../ghc-8.2.2/HscTypes.html#t:ModSummary">ModSummary</a> -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> SourceFileKey <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleRecord">ModuleRecord</a> -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> SourceFileKey <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleRecord">ModuleRecord</a></li><li class="src short"><a href="#v:needsGeneratedCode">needsGeneratedCode</a> :: SourceFileKey -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="Language-Haskell-Tools-Daemon-Representation.html#t:CodeGenPolicy">CodeGenPolicy</a></li><li class="src short"><a href="#v:codeGeneratedFor">codeGeneratedFor</a> :: SourceFileKey -&gt; <a href="Language-Haskell-Tools-Daemon-Representation.html#t:CodeGenPolicy">CodeGenPolicy</a> -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey]</li><li class="src short"><a href="#v:isAlreadyLoaded">isAlreadyLoaded</a> :: SourceFileKey -&gt; <a href="Language-Haskell-Tools-Daemon-Representation.html#t:CodeGenPolicy">CodeGenPolicy</a> -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:insertIfMissing">insertIfMissing</a> :: SourceFileKey -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey]</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:moduleCollectionPkgId" class="def">moduleCollectionPkgId</a> :: <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a> -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> <a href="src/Language.Haskell.Tools.Daemon.Utils.html#moduleCollectionPkgId" class="link">Source</a> <a href="#v:moduleCollectionPkgId" class="selflink">#</a></p><div class="doc"><p>Get the name of a module collection from its Id.</p></div></div><div class="top"><p class="src"><a id="v:lookupModuleColl" class="def">lookupModuleColl</a> :: <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey) <a href="src/Language.Haskell.Tools.Daemon.Utils.html#lookupModuleColl" class="link">Source</a> <a href="#v:lookupModuleColl" class="selflink">#</a></p><div class="doc"><p>Find the module collection where the given module is contained. Based on module name.</p></div></div><div class="top"><p class="src"><a id="v:lookupSourceFileColl" class="def">lookupSourceFileColl</a> :: <a href="../base-4.10.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey) <a href="src/Language.Haskell.Tools.Daemon.Utils.html#lookupSourceFileColl" class="link">Source</a> <a href="#v:lookupSourceFileColl" class="selflink">#</a></p><div class="doc"><p>Find the module collection where the given module is contained. Based on source file name.</p></div></div><div class="top"><p class="src"><a id="v:lookupModuleCollection" class="def">lookupModuleCollection</a> :: <a href="../ghc-8.2.2/HscTypes.html#t:ModSummary">ModSummary</a> -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey) <a href="src/Language.Haskell.Tools.Daemon.Utils.html#lookupModuleCollection" class="link">Source</a> <a href="#v:lookupModuleCollection" class="selflink">#</a></p><div class="doc"><p>Find the module collection where the given module is contained. Based on source file name and module name.</p></div></div><div class="top"><p class="src"><a id="v:lookupModuleInSCs" class="def">lookupModuleInSCs</a> :: <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (SourceFileKey, <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleRecord">ModuleRecord</a>) <a href="src/Language.Haskell.Tools.Daemon.Utils.html#lookupModuleInSCs" class="link">Source</a> <a href="#v:lookupModuleInSCs" class="selflink">#</a></p><div class="doc"><p>Find the module with the given name. Based on module name.</p></div></div><div class="top"><p class="src"><a id="v:lookupModInSCs" class="def">lookupModInSCs</a> :: SourceFileKey -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (SourceFileKey, <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleRecord">ModuleRecord</a>) <a href="src/Language.Haskell.Tools.Daemon.Utils.html#lookupModInSCs" class="link">Source</a> <a href="#v:lookupModInSCs" class="selflink">#</a></p><div class="doc"><p>Find the module with the given name. Based on source file name.</p></div></div><div class="top"><p class="src"><a id="v:lookupSFKInSCs" class="def">lookupSFKInSCs</a> :: SourceFileKey -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleRecord">ModuleRecord</a> <a href="src/Language.Haskell.Tools.Daemon.Utils.html#lookupSFKInSCs" class="link">Source</a> <a href="#v:lookupSFKInSCs" class="selflink">#</a></p><div class="doc"><p>Get the module with the given name and source file key.</p></div></div><div class="top"><p class="src"><a id="v:removeModule" class="def">removeModule</a> :: <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] <a href="src/Language.Haskell.Tools.Daemon.Utils.html#removeModule" class="link">Source</a> <a href="#v:removeModule" class="selflink">#</a></p><div class="doc"><p>Remove a module with the given name. Based on module name.</p></div></div><div class="top"><p class="src"><a id="v:removeModuleMS" class="def">removeModuleMS</a> :: <a href="../ghc-8.2.2/HscTypes.html#t:ModSummary">ModSummary</a> -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> SourceFileKey <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleRecord">ModuleRecord</a> -&gt; <a href="../containers-0.5.10.2/Data-Map-Internal.html#t:Map">Map</a> SourceFileKey <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleRecord">ModuleRecord</a> <a href="src/Language.Haskell.Tools.Daemon.Utils.html#removeModuleMS" class="link">Source</a> <a href="#v:removeModuleMS" class="selflink">#</a></p><div class="doc"><p>Remove a module with the given name from a module collection. Based on module name and file path.</p></div></div><div class="top"><p class="src"><a id="v:needsGeneratedCode" class="def">needsGeneratedCode</a> :: SourceFileKey -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="Language-Haskell-Tools-Daemon-Representation.html#t:CodeGenPolicy">CodeGenPolicy</a> <a href="src/Language.Haskell.Tools.Daemon.Utils.html#needsGeneratedCode" class="link">Source</a> <a href="#v:needsGeneratedCode" class="selflink">#</a></p><div class="doc"><p>Check if the given module needs code generation. Finds the module if no source file name is
 present and module names check or if both module names and source file names check.</p></div></div><div class="top"><p class="src"><a id="v:codeGeneratedFor" class="def">codeGeneratedFor</a> :: SourceFileKey -&gt; <a href="Language-Haskell-Tools-Daemon-Representation.html#t:CodeGenPolicy">CodeGenPolicy</a> -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] <a href="src/Language.Haskell.Tools.Daemon.Utils.html#codeGeneratedFor" class="link">Source</a> <a href="#v:codeGeneratedFor" class="selflink">#</a></p><div class="doc"><p>Marks the given module for code generation. Finds the module if no source file name is
 present and module names check or if both module names and source file names check.
 Idempotent operation.</p></div></div><div class="top"><p class="src"><a id="v:isAlreadyLoaded" class="def">isAlreadyLoaded</a> :: SourceFileKey -&gt; <a href="Language-Haskell-Tools-Daemon-Representation.html#t:CodeGenPolicy">CodeGenPolicy</a> -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Language.Haskell.Tools.Daemon.Utils.html#isAlreadyLoaded" class="link">Source</a> <a href="#v:isAlreadyLoaded" class="selflink">#</a></p><div class="doc"><p>Check if the given module has been already loaded. Based on both module name and source
 file name.</p></div></div><div class="top"><p class="src"><a id="v:insertIfMissing" class="def">insertIfMissing</a> :: SourceFileKey -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> SourceFileKey] <a href="src/Language.Haskell.Tools.Daemon.Utils.html#insertIfMissing" class="link">Source</a> <a href="#v:insertIfMissing" class="selflink">#</a></p><div class="doc"><p>Insert a module with a source file key to our database if it wasn't there already</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>