<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Language.Haskell.Tools.Daemon</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Language.Haskell.Tools.Daemon.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">haskell-tools-daemon-1.1.0.0: Background process for Haskell-tools that editors can connect to.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Language.Haskell.Tools.Daemon</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The central module for the background process of Haskell-tools. Starts the daemon process and
 updates it for each client request in a loop. After this releases the resources and terminates.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:runDaemon-39-">runDaemon'</a> :: [RefactoringChoice] -&gt; [QueryChoice] -&gt; <a href="Language-Haskell-Tools-Daemon-Options.html#t:DaemonOptions" title="Language.Haskell.Tools.Daemon.Options">DaemonOptions</a> -&gt; <a href="../base-4.11.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:runDaemon">runDaemon</a> :: [RefactoringChoice] -&gt; [QueryChoice] -&gt; <a href="Language-Haskell-Tools-Daemon-Mode.html#t:WorkingMode" title="Language.Haskell.Tools.Daemon.Mode">WorkingMode</a> a -&gt; <a href="../base-4.11.1.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> a -&gt; <a href="Language-Haskell-Tools-Daemon-Options.html#t:DaemonOptions" title="Language.Haskell.Tools.Daemon.Options">DaemonOptions</a> -&gt; <a href="../base-4.11.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:serverLoop">serverLoop</a> :: [RefactoringChoice] -&gt; [QueryChoice] -&gt; <a href="Language-Haskell-Tools-Daemon-Mode.html#t:WorkingMode" title="Language.Haskell.Tools.Daemon.Mode">WorkingMode</a> a -&gt; a -&gt; <a href="Language-Haskell-Tools-Daemon-Options.html#t:DaemonOptions" title="Language.Haskell.Tools.Daemon.Options">DaemonOptions</a> -&gt; <a href="../ghc-8.4.2/GhcMonad.html#t:Session" title="GhcMonad">Session</a> -&gt; <a href="../base-4.11.1.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> <a href="Language-Haskell-Tools-Daemon-State.html#t:DaemonSessionState" title="Language.Haskell.Tools.Daemon.State">DaemonSessionState</a> -&gt; <a href="../base-4.11.1.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> [<a href="Language-Haskell-Tools-Daemon-Protocol.html#t:Marker" title="Language.Haskell.Tools.Daemon.Protocol">Marker</a>] -&gt; <a href="../base-4.11.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:respondTo">respondTo</a> :: <a href="Language-Haskell-Tools-Daemon-Options.html#t:DaemonOptions" title="Language.Haskell.Tools.Daemon.Options">DaemonOptions</a> -&gt; [RefactoringChoice] -&gt; [QueryChoice] -&gt; <a href="../ghc-8.4.2/GhcMonad.html#t:Session" title="GhcMonad">Session</a> -&gt; <a href="../base-4.11.1.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> <a href="Language-Haskell-Tools-Daemon-State.html#t:DaemonSessionState" title="Language.Haskell.Tools.Daemon.State">DaemonSessionState</a> -&gt; (<a href="Language-Haskell-Tools-Daemon-Protocol.html#t:ResponseMsg" title="Language.Haskell.Tools.Daemon.Protocol">ResponseMsg</a> -&gt; <a href="../base-4.11.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; <a href="../base-4.11.1.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> [<a href="Language-Haskell-Tools-Daemon-Protocol.html#t:Marker" title="Language.Haskell.Tools.Daemon.Protocol">Marker</a>] -&gt; <a href="Language-Haskell-Tools-Daemon-Protocol.html#t:ClientMessage" title="Language.Haskell.Tools.Daemon.Protocol">ClientMessage</a> -&gt; <a href="../base-4.11.1.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../Cabal-2.2.0.1/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:runDaemon-39-" class="def">runDaemon'</a> :: [RefactoringChoice] -&gt; [QueryChoice] -&gt; <a href="Language-Haskell-Tools-Daemon-Options.html#t:DaemonOptions" title="Language.Haskell.Tools.Daemon.Options">DaemonOptions</a> -&gt; <a href="../base-4.11.1.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Language.Haskell.Tools.Daemon.html#runDaemon%27" class="link">Source</a> <a href="#v:runDaemon-39-" class="selflink">#</a></p><div class="doc"><p>Starts the daemon process. This will not return until the daemon stops. You can use this entry
 point when the other endpoint of the client connection is not needed, for example, when you use
 socket connection to connect to the daemon process.</p></div></div><div class="top"><p class="src"><a id="v:runDaemon" class="def">runDaemon</a> :: [RefactoringChoice] -&gt; [QueryChoice] -&gt; <a href="Language-Haskell-Tools-Daemon-Mode.html#t:WorkingMode" title="Language.Haskell.Tools.Daemon.Mode">WorkingMode</a> a -&gt; <a href="../base-4.11.1.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> a -&gt; <a href="Language-Haskell-Tools-Daemon-Options.html#t:DaemonOptions" title="Language.Haskell.Tools.Daemon.Options">DaemonOptions</a> -&gt; <a href="../base-4.11.1.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Language.Haskell.Tools.Daemon.html#runDaemon" class="link">Source</a> <a href="#v:runDaemon" class="selflink">#</a></p><div class="doc"><p>Starts the daemon process. This will not return until the daemon stops.
 The daemon process is parameterized by the refactorings you can use in it. This entry point gives
 back the other endpoint of the connection so it can be used to run the daemon in the same process.</p></div></div><div class="top"><p class="src"><a id="v:serverLoop" class="def">serverLoop</a> :: [RefactoringChoice] -&gt; [QueryChoice] -&gt; <a href="Language-Haskell-Tools-Daemon-Mode.html#t:WorkingMode" title="Language.Haskell.Tools.Daemon.Mode">WorkingMode</a> a -&gt; a -&gt; <a href="Language-Haskell-Tools-Daemon-Options.html#t:DaemonOptions" title="Language.Haskell.Tools.Daemon.Options">DaemonOptions</a> -&gt; <a href="../ghc-8.4.2/GhcMonad.html#t:Session" title="GhcMonad">Session</a> -&gt; <a href="../base-4.11.1.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> <a href="Language-Haskell-Tools-Daemon-State.html#t:DaemonSessionState" title="Language.Haskell.Tools.Daemon.State">DaemonSessionState</a> -&gt; <a href="../base-4.11.1.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> [<a href="Language-Haskell-Tools-Daemon-Protocol.html#t:Marker" title="Language.Haskell.Tools.Daemon.Protocol">Marker</a>] -&gt; <a href="../base-4.11.1.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Language.Haskell.Tools.Daemon.html#serverLoop" class="link">Source</a> <a href="#v:serverLoop" class="selflink">#</a></p><div class="doc"><p>Starts the server loop, receiving requests from the client and updated the server state
 according to these.</p></div></div><div class="top"><p class="src"><a id="v:respondTo" class="def">respondTo</a> :: <a href="Language-Haskell-Tools-Daemon-Options.html#t:DaemonOptions" title="Language.Haskell.Tools.Daemon.Options">DaemonOptions</a> -&gt; [RefactoringChoice] -&gt; [QueryChoice] -&gt; <a href="../ghc-8.4.2/GhcMonad.html#t:Session" title="GhcMonad">Session</a> -&gt; <a href="../base-4.11.1.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> <a href="Language-Haskell-Tools-Daemon-State.html#t:DaemonSessionState" title="Language.Haskell.Tools.Daemon.State">DaemonSessionState</a> -&gt; (<a href="Language-Haskell-Tools-Daemon-Protocol.html#t:ResponseMsg" title="Language.Haskell.Tools.Daemon.Protocol">ResponseMsg</a> -&gt; <a href="../base-4.11.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; <a href="../base-4.11.1.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> [<a href="Language-Haskell-Tools-Daemon-Protocol.html#t:Marker" title="Language.Haskell.Tools.Daemon.Protocol">Marker</a>] -&gt; <a href="Language-Haskell-Tools-Daemon-Protocol.html#t:ClientMessage" title="Language.Haskell.Tools.Daemon.Protocol">ClientMessage</a> -&gt; <a href="../base-4.11.1.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../Cabal-2.2.0.1/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="src/Language.Haskell.Tools.Daemon.html#respondTo" class="link">Source</a> <a href="#v:respondTo" class="selflink">#</a></p><div class="doc"><p>Responds to a client request by modifying the daemon and GHC state accordingly.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.20.0</p></div></body></html>