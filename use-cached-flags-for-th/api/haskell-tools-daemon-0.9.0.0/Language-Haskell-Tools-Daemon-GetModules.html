<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Language.Haskell.Tools.Daemon.GetModules</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Language.Haskell.Tools.Daemon.GetModules.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">haskell-tools-daemon-0.9.0.0: Background process for Haskell-tools that editors can connect to.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Language.Haskell.Tools.Daemon.GetModules</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Collecting modules contained in a module collection (library, executable, testsuite or
 benchmark). Gets names, source file locations, compilation and load flags for these modules.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:getAllModules">getAllModules</a> :: [<a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a>] -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleNameStr">ModuleNameStr</a>]</li><li class="src short"><a href="#v:orderMCs">orderMCs</a> :: [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> k] -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> k]</li><li class="src short"><a href="#v:getModules">getModules</a> :: <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleNameStr">ModuleNameStr</a>]</li><li class="src short"><a href="#v:modulesFromDirectory">modulesFromDirectory</a> :: <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> [<a href="../base-4.10.0.0/Data-String.html#t:String">String</a>]</li><li class="src short"><a href="#v:srcDirFromRoot">srcDirFromRoot</a> :: <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a></li><li class="src short"><a href="#v:modulesFromCabalFile">modulesFromCabalFile</a> :: <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleNameStr">ModuleNameStr</a>]</li><li class="src short"><span class="keyword">data</span> <a href="#t:UnsupportedPackage">UnsupportedPackage</a> = <a href="#v:UnsupportedPackage">UnsupportedPackage</a> <a href="../base-4.10.0.0/Data-String.html#t:String">String</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:ToModuleCollection">ToModuleCollection</a> t <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><a href="#v:getMain-39-">getMain'</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-BuildInfo.html#t:BuildInfo">BuildInfo</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:isDirectoryMC">isDirectoryMC</a> :: <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:applyDependencies">applyDependencies</a> :: [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a>] -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a>] -&gt; <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a></li><li class="src short"><a href="#v:onlyUseEnabled">onlyUseEnabled</a> :: <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a></li><li class="src short"><a href="#v:dependencyToPkgFlag">dependencyToPkgFlag</a> :: [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a>] -&gt; <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a> -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../ghc-8.2.1/DynFlags.html#t:PackageFlag">PackageFlag</a></li><li class="src short"><a href="#v:setupLoadFlags">setupLoadFlags</a> :: [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a>] -&gt; [<a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a>] -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a>] -&gt; (<a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a>) -&gt; <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a></li><li class="src short"><a href="#v:loadFlagsFromBuildInfo">loadFlagsFromBuildInfo</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-BuildInfo.html#t:BuildInfo">BuildInfo</a> -&gt; <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a></li><li class="src short"><a href="#v:flagsFromBuildInfo">flagsFromBuildInfo</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-BuildInfo.html#t:BuildInfo">BuildInfo</a> -&gt; <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:getAllModules" class="def">getAllModules</a> :: [<a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a>] -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleNameStr">ModuleNameStr</a>] <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getAllModules" class="link">Source</a> <a href="#v:getAllModules" class="selflink">#</a></p><div class="doc"><p>Gets all ModuleCollections from a list of source directories. It also orders the source directories that are package roots so that
 they can be loaded in the order they are defined (no backward imports). This matters in those cases because for them there can be
 special compilation flags.</p></div></div><div class="top"><p class="src"><a id="v:orderMCs" class="def">orderMCs</a> :: [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> k] -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> k] <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#orderMCs" class="link">Source</a> <a href="#v:orderMCs" class="selflink">#</a></p><div class="doc"><p>Sorts model collection in an order to remove all backward references.
 Works because module collections defined by directories cannot be recursive.</p></div></div><div class="top"><p class="src"><a id="v:getModules" class="def">getModules</a> :: <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleNameStr">ModuleNameStr</a>] <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getModules" class="link">Source</a> <a href="#v:getModules" class="selflink">#</a></p><div class="doc"><p>Get modules of the project with the indicated root directory.
 If there is a cabal file, it uses that, otherwise it just scans the directory recursively for haskell sourcefiles.
 Only returns the non-boot haskell modules, the boot modules will be found during loading.</p></div></div><div class="top"><p class="src"><a id="v:modulesFromDirectory" class="def">modulesFromDirectory</a> :: <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> [<a href="../base-4.10.0.0/Data-String.html#t:String">String</a>] <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#modulesFromDirectory" class="link">Source</a> <a href="#v:modulesFromDirectory" class="selflink">#</a></p><div class="doc"><p>Load the module giving a directory. All modules loaded from the folder and subfolders.</p></div></div><div class="top"><p class="src"><a id="v:srcDirFromRoot" class="def">srcDirFromRoot</a> :: <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#srcDirFromRoot" class="link">Source</a> <a href="#v:srcDirFromRoot" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:modulesFromCabalFile" class="def">modulesFromCabalFile</a> :: <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollection">ModuleCollection</a> <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleNameStr">ModuleNameStr</a>] <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#modulesFromCabalFile" class="link">Source</a> <a href="#v:modulesFromCabalFile" class="selflink">#</a></p><div class="doc"><p>Load the module using a cabal file. The modules described in the cabal file will be loaded.
 The flags and extensions set in the cabal file will be used by default.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:UnsupportedPackage" class="def">UnsupportedPackage</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#UnsupportedPackage" class="link">Source</a> <a href="#t:UnsupportedPackage" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UnsupportedPackage" class="def">UnsupportedPackage</a> <a href="../base-4.10.0.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:UnsupportedPackage" class="caption collapser" onclick="toggleSection('i:UnsupportedPackage')">Instances</p><div id="section.i:UnsupportedPackage" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:UnsupportedPackage:Show:1" class="instance expander" onclick="toggleSection('i:id:UnsupportedPackage:Show:1')"></span> <a href="../base-4.10.0.0/Text-Show.html#t:Show">Show</a> <a href="Language-Haskell-Tools-Daemon-GetModules.html#t:UnsupportedPackage">UnsupportedPackage</a></span> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#line-122" class="link">Source</a> <a href="#t:UnsupportedPackage" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:UnsupportedPackage:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.10.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Language-Haskell-Tools-Daemon-GetModules.html#t:UnsupportedPackage">UnsupportedPackage</a> -&gt; <a href="../base-4.10.0.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Language-Haskell-Tools-Daemon-GetModules.html#t:UnsupportedPackage">UnsupportedPackage</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Language-Haskell-Tools-Daemon-GetModules.html#t:UnsupportedPackage">UnsupportedPackage</a>] -&gt; <a href="../base-4.10.0.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:UnsupportedPackage:Exception:2" class="instance expander" onclick="toggleSection('i:id:UnsupportedPackage:Exception:2')"></span> <a href="../base-4.10.0.0/Control-Exception-Base.html#t:Exception">Exception</a> <a href="Language-Haskell-Tools-Daemon-GetModules.html#t:UnsupportedPackage">UnsupportedPackage</a></span> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#line-124" class="link">Source</a> <a href="#t:UnsupportedPackage" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:UnsupportedPackage:Exception:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="Language-Haskell-Tools-Daemon-GetModules.html#t:UnsupportedPackage">UnsupportedPackage</a> -&gt; <a href="../base-4.10.0.0/Control-Exception-Base.html#t:SomeException">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="../base-4.10.0.0/Control-Exception-Base.html#t:SomeException">SomeException</a> -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Language-Haskell-Tools-Daemon-GetModules.html#t:UnsupportedPackage">UnsupportedPackage</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="Language-Haskell-Tools-Daemon-GetModules.html#t:UnsupportedPackage">UnsupportedPackage</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:ToModuleCollection" class="def">ToModuleCollection</a> t <span class="keyword">where</span> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#ToModuleCollection" class="link">Source</a> <a href="#t:ToModuleCollection" class="selflink">#</a></p><div class="doc"><p>Extract module-related information from different kind of package components (library,
 executable, test-suite or benchmark).</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Language-Haskell-Tools-Daemon-GetModules.html#v:mkModuleCollKey">mkModuleCollKey</a>, <a href="Language-Haskell-Tools-Daemon-GetModules.html#v:getBuildInfo">getBuildInfo</a>, <a href="Language-Haskell-Tools-Daemon-GetModules.html#v:getModuleNames">getModuleNames</a>, <a href="Language-Haskell-Tools-Daemon-GetModules.html#v:needsToCompile">needsToCompile</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:mkModuleCollKey" class="def">mkModuleCollKey</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-PackageName.html#t:PackageName">PackageName</a> -&gt; t -&gt; <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#mkModuleCollKey" class="link">Source</a> <a href="#v:mkModuleCollKey" class="selflink">#</a></p><div class="doc"><p>Creates a key for registering this package component.</p></div><p class="src"><a id="v:getBuildInfo" class="def">getBuildInfo</a> :: t -&gt; <a href="../Cabal-2.0.0.2/Distribution-Types-BuildInfo.html#t:BuildInfo">BuildInfo</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getBuildInfo" class="link">Source</a> <a href="#v:getBuildInfo" class="selflink">#</a></p><div class="doc"><p>Gets the build info field from a package component.</p></div><p class="src"><a id="v:getModuleNames" class="def">getModuleNames</a> :: t -&gt; [<a href="../Cabal-2.0.0.2/Distribution-ModuleName.html#t:ModuleName">ModuleName</a>] <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getModuleNames" class="link">Source</a> <a href="#v:getModuleNames" class="selflink">#</a></p><div class="doc"><p>Get the names of all the modules used by this package component.</p></div><p class="src"><a id="v:getModuleSourceFiles" class="def">getModuleSourceFiles</a> :: t -&gt; [(<a href="../Cabal-2.0.0.2/Distribution-ModuleName.html#t:ModuleName">ModuleName</a>, <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a>)] <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getModuleSourceFiles" class="link">Source</a> <a href="#v:getModuleSourceFiles" class="selflink">#</a></p><div class="doc"><p>Gets if some of the modules are defined is source files that are not in the expected
 location or named as expected.</p></div><p class="src"><a id="v:needsToCompile" class="def">needsToCompile</a> :: t -&gt; <a href="../Cabal-2.0.0.2/Distribution-ModuleName.html#t:ModuleName">ModuleName</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#needsToCompile" class="link">Source</a> <a href="#v:needsToCompile" class="selflink">#</a></p><div class="doc"><p>Checks if a module is exposed by the package component, so it is necessary to compile.
 Some of the components may have modules that are only conditionally imported by other modules.</p></div><p class="src"><a id="v:getMain" class="def">getMain</a> :: t -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getMain" class="link">Source</a> <a href="#v:getMain" class="selflink">#</a></p><div class="doc"><p>Gets the Main module in the case of executables, benchmarks and test suites.</p></div></div><div class="subs instances"><p id="control.i:ToModuleCollection" class="caption collapser" onclick="toggleSection('i:ToModuleCollection')">Instances</p><div id="section.i:ToModuleCollection" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:ToModuleCollection:ToModuleCollection:1" class="instance expander" onclick="toggleSection('i:ic:ToModuleCollection:ToModuleCollection:1')"></span> <a href="Language-Haskell-Tools-Daemon-GetModules.html#t:ToModuleCollection">ToModuleCollection</a> <a href="../Cabal-2.0.0.2/Distribution-Types-Benchmark.html#t:Benchmark">Benchmark</a></span> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#line-172" class="link">Source</a> <a href="#t:ToModuleCollection" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:ToModuleCollection:ToModuleCollection:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mkModuleCollKey">mkModuleCollKey</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-PackageName.html#t:PackageName">PackageName</a> -&gt; <a href="../Cabal-2.0.0.2/Distribution-Types-Benchmark.html#t:Benchmark">Benchmark</a> -&gt; <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#mkModuleCollKey" class="link">Source</a> <a href="#v:mkModuleCollKey" class="selflink">#</a></p><p class="src"><a href="#v:getBuildInfo">getBuildInfo</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-Benchmark.html#t:Benchmark">Benchmark</a> -&gt; <a href="../Cabal-2.0.0.2/Distribution-Types-BuildInfo.html#t:BuildInfo">BuildInfo</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getBuildInfo" class="link">Source</a> <a href="#v:getBuildInfo" class="selflink">#</a></p><p class="src"><a href="#v:getModuleNames">getModuleNames</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-Benchmark.html#t:Benchmark">Benchmark</a> -&gt; [<a href="../Cabal-2.0.0.2/Distribution-ModuleName.html#t:ModuleName">ModuleName</a>] <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getModuleNames" class="link">Source</a> <a href="#v:getModuleNames" class="selflink">#</a></p><p class="src"><a href="#v:getModuleSourceFiles">getModuleSourceFiles</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-Benchmark.html#t:Benchmark">Benchmark</a> -&gt; [(<a href="../Cabal-2.0.0.2/Distribution-ModuleName.html#t:ModuleName">ModuleName</a>, <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a>)] <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getModuleSourceFiles" class="link">Source</a> <a href="#v:getModuleSourceFiles" class="selflink">#</a></p><p class="src"><a href="#v:needsToCompile">needsToCompile</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-Benchmark.html#t:Benchmark">Benchmark</a> -&gt; <a href="../Cabal-2.0.0.2/Distribution-ModuleName.html#t:ModuleName">ModuleName</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#needsToCompile" class="link">Source</a> <a href="#v:needsToCompile" class="selflink">#</a></p><p class="src"><a href="#v:getMain">getMain</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-Benchmark.html#t:Benchmark">Benchmark</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getMain" class="link">Source</a> <a href="#v:getMain" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:ToModuleCollection:ToModuleCollection:2" class="instance expander" onclick="toggleSection('i:ic:ToModuleCollection:ToModuleCollection:2')"></span> <a href="Language-Haskell-Tools-Daemon-GetModules.html#t:ToModuleCollection">ToModuleCollection</a> <a href="../Cabal-2.0.0.2/Distribution-Types-Executable.html#t:Executable">Executable</a></span> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#line-152" class="link">Source</a> <a href="#t:ToModuleCollection" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:ToModuleCollection:ToModuleCollection:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mkModuleCollKey">mkModuleCollKey</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-PackageName.html#t:PackageName">PackageName</a> -&gt; <a href="../Cabal-2.0.0.2/Distribution-Types-Executable.html#t:Executable">Executable</a> -&gt; <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#mkModuleCollKey" class="link">Source</a> <a href="#v:mkModuleCollKey" class="selflink">#</a></p><p class="src"><a href="#v:getBuildInfo">getBuildInfo</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-Executable.html#t:Executable">Executable</a> -&gt; <a href="../Cabal-2.0.0.2/Distribution-Types-BuildInfo.html#t:BuildInfo">BuildInfo</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getBuildInfo" class="link">Source</a> <a href="#v:getBuildInfo" class="selflink">#</a></p><p class="src"><a href="#v:getModuleNames">getModuleNames</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-Executable.html#t:Executable">Executable</a> -&gt; [<a href="../Cabal-2.0.0.2/Distribution-ModuleName.html#t:ModuleName">ModuleName</a>] <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getModuleNames" class="link">Source</a> <a href="#v:getModuleNames" class="selflink">#</a></p><p class="src"><a href="#v:getModuleSourceFiles">getModuleSourceFiles</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-Executable.html#t:Executable">Executable</a> -&gt; [(<a href="../Cabal-2.0.0.2/Distribution-ModuleName.html#t:ModuleName">ModuleName</a>, <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a>)] <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getModuleSourceFiles" class="link">Source</a> <a href="#v:getModuleSourceFiles" class="selflink">#</a></p><p class="src"><a href="#v:needsToCompile">needsToCompile</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-Executable.html#t:Executable">Executable</a> -&gt; <a href="../Cabal-2.0.0.2/Distribution-ModuleName.html#t:ModuleName">ModuleName</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#needsToCompile" class="link">Source</a> <a href="#v:needsToCompile" class="selflink">#</a></p><p class="src"><a href="#v:getMain">getMain</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-Executable.html#t:Executable">Executable</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getMain" class="link">Source</a> <a href="#v:getMain" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:ToModuleCollection:ToModuleCollection:3" class="instance expander" onclick="toggleSection('i:ic:ToModuleCollection:ToModuleCollection:3')"></span> <a href="Language-Haskell-Tools-Daemon-GetModules.html#t:ToModuleCollection">ToModuleCollection</a> <a href="../Cabal-2.0.0.2/Distribution-Types-Library.html#t:Library">Library</a></span> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#line-146" class="link">Source</a> <a href="#t:ToModuleCollection" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:ToModuleCollection:ToModuleCollection:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mkModuleCollKey">mkModuleCollKey</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-PackageName.html#t:PackageName">PackageName</a> -&gt; <a href="../Cabal-2.0.0.2/Distribution-Types-Library.html#t:Library">Library</a> -&gt; <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#mkModuleCollKey" class="link">Source</a> <a href="#v:mkModuleCollKey" class="selflink">#</a></p><p class="src"><a href="#v:getBuildInfo">getBuildInfo</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-Library.html#t:Library">Library</a> -&gt; <a href="../Cabal-2.0.0.2/Distribution-Types-BuildInfo.html#t:BuildInfo">BuildInfo</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getBuildInfo" class="link">Source</a> <a href="#v:getBuildInfo" class="selflink">#</a></p><p class="src"><a href="#v:getModuleNames">getModuleNames</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-Library.html#t:Library">Library</a> -&gt; [<a href="../Cabal-2.0.0.2/Distribution-ModuleName.html#t:ModuleName">ModuleName</a>] <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getModuleNames" class="link">Source</a> <a href="#v:getModuleNames" class="selflink">#</a></p><p class="src"><a href="#v:getModuleSourceFiles">getModuleSourceFiles</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-Library.html#t:Library">Library</a> -&gt; [(<a href="../Cabal-2.0.0.2/Distribution-ModuleName.html#t:ModuleName">ModuleName</a>, <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a>)] <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getModuleSourceFiles" class="link">Source</a> <a href="#v:getModuleSourceFiles" class="selflink">#</a></p><p class="src"><a href="#v:needsToCompile">needsToCompile</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-Library.html#t:Library">Library</a> -&gt; <a href="../Cabal-2.0.0.2/Distribution-ModuleName.html#t:ModuleName">ModuleName</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#needsToCompile" class="link">Source</a> <a href="#v:needsToCompile" class="selflink">#</a></p><p class="src"><a href="#v:getMain">getMain</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-Library.html#t:Library">Library</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getMain" class="link">Source</a> <a href="#v:getMain" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:ToModuleCollection:ToModuleCollection:4" class="instance expander" onclick="toggleSection('i:ic:ToModuleCollection:ToModuleCollection:4')"></span> <a href="Language-Haskell-Tools-Daemon-GetModules.html#t:ToModuleCollection">ToModuleCollection</a> <a href="../Cabal-2.0.0.2/Distribution-Types-TestSuite.html#t:TestSuite">TestSuite</a></span> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#line-159" class="link">Source</a> <a href="#t:ToModuleCollection" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:ToModuleCollection:ToModuleCollection:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mkModuleCollKey">mkModuleCollKey</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-PackageName.html#t:PackageName">PackageName</a> -&gt; <a href="../Cabal-2.0.0.2/Distribution-Types-TestSuite.html#t:TestSuite">TestSuite</a> -&gt; <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#mkModuleCollKey" class="link">Source</a> <a href="#v:mkModuleCollKey" class="selflink">#</a></p><p class="src"><a href="#v:getBuildInfo">getBuildInfo</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-TestSuite.html#t:TestSuite">TestSuite</a> -&gt; <a href="../Cabal-2.0.0.2/Distribution-Types-BuildInfo.html#t:BuildInfo">BuildInfo</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getBuildInfo" class="link">Source</a> <a href="#v:getBuildInfo" class="selflink">#</a></p><p class="src"><a href="#v:getModuleNames">getModuleNames</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-TestSuite.html#t:TestSuite">TestSuite</a> -&gt; [<a href="../Cabal-2.0.0.2/Distribution-ModuleName.html#t:ModuleName">ModuleName</a>] <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getModuleNames" class="link">Source</a> <a href="#v:getModuleNames" class="selflink">#</a></p><p class="src"><a href="#v:getModuleSourceFiles">getModuleSourceFiles</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-TestSuite.html#t:TestSuite">TestSuite</a> -&gt; [(<a href="../Cabal-2.0.0.2/Distribution-ModuleName.html#t:ModuleName">ModuleName</a>, <a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a>)] <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getModuleSourceFiles" class="link">Source</a> <a href="#v:getModuleSourceFiles" class="selflink">#</a></p><p class="src"><a href="#v:needsToCompile">needsToCompile</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-TestSuite.html#t:TestSuite">TestSuite</a> -&gt; <a href="../Cabal-2.0.0.2/Distribution-ModuleName.html#t:ModuleName">ModuleName</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#needsToCompile" class="link">Source</a> <a href="#v:needsToCompile" class="selflink">#</a></p><p class="src"><a href="#v:getMain">getMain</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-TestSuite.html#t:TestSuite">TestSuite</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getMain" class="link">Source</a> <a href="#v:getMain" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:getMain-39-" class="def">getMain'</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-BuildInfo.html#t:BuildInfo">BuildInfo</a> -&gt; <a href="../base-4.10.0.0/Data-String.html#t:String">String</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#getMain%27" class="link">Source</a> <a href="#v:getMain-39-" class="selflink">#</a></p><div class="doc"><p>A default method of getting the main module using the ghc-options field, checking for the
 option -main-is.</p></div></div><div class="top"><p class="src"><a id="v:isDirectoryMC" class="def">isDirectoryMC</a> :: <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a> -&gt; <a href="../base-4.10.0.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#isDirectoryMC" class="link">Source</a> <a href="#v:isDirectoryMC" class="selflink">#</a></p><div class="doc"><p>Checks if the module collection created from a folder without .cabal file.</p></div></div><div class="top"><p class="src"><a id="v:applyDependencies" class="def">applyDependencies</a> :: [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a>] -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a>] -&gt; <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#applyDependencies" class="link">Source</a> <a href="#v:applyDependencies" class="selflink">#</a></p><div class="doc"><p>Modify the dynamic flags to match the dependencies requested in the .cabal file.</p></div></div><div class="top"><p class="src"><a id="v:onlyUseEnabled" class="def">onlyUseEnabled</a> :: <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#onlyUseEnabled" class="link">Source</a> <a href="#v:onlyUseEnabled" class="selflink">#</a></p><div class="doc"><p>Only use the dependencies that are explicitely enabled. (As cabal does opposed to as ghc does.)</p></div></div><div class="top"><p class="src"><a id="v:dependencyToPkgFlag" class="def">dependencyToPkgFlag</a> :: [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a>] -&gt; <a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a> -&gt; <a href="../base-4.10.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../ghc-8.2.1/DynFlags.html#t:PackageFlag">PackageFlag</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#dependencyToPkgFlag" class="link">Source</a> <a href="#v:dependencyToPkgFlag" class="selflink">#</a></p><div class="doc"><p>Transform dependencies of a module collection into the package flags of the GHC API</p></div></div><div class="top"><p class="src"><a id="v:setupLoadFlags" class="def">setupLoadFlags</a> :: [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a>] -&gt; [<a href="../base-4.10.0.0/System-IO.html#t:FilePath">FilePath</a>] -&gt; [<a href="Language-Haskell-Tools-Daemon-Representation.html#t:ModuleCollectionId">ModuleCollectionId</a>] -&gt; (<a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a>) -&gt; <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#setupLoadFlags" class="link">Source</a> <a href="#v:setupLoadFlags" class="selflink">#</a></p><div class="doc"><p>Sets the configuration for loading all the modules from the whole project. Combines the
 configuration of all package fragments. This solution is not perfect (it would be better to load
 all package fragments separately), but it is how it works. See <code><a href="Language-Haskell-Tools-Daemon-GetModules.html#v:loadFlagsFromBuildInfo">loadFlagsFromBuildInfo</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:loadFlagsFromBuildInfo" class="def">loadFlagsFromBuildInfo</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-BuildInfo.html#t:BuildInfo">BuildInfo</a> -&gt; <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#loadFlagsFromBuildInfo" class="link">Source</a> <a href="#v:loadFlagsFromBuildInfo" class="selflink">#</a></p><div class="doc"><p>Collects the compilation options and enabled extensions from Cabal's build info representation.
 This setup will be used when loading all packages in the project. See <code><a href="Language-Haskell-Tools-Daemon-GetModules.html#v:setupLoadFlags">setupLoadFlags</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:flagsFromBuildInfo" class="def">flagsFromBuildInfo</a> :: <a href="../Cabal-2.0.0.2/Distribution-Types-BuildInfo.html#t:BuildInfo">BuildInfo</a> -&gt; <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> -&gt; <a href="../base-4.10.0.0/System-IO.html#t:IO">IO</a> <a href="../ghc-8.2.1/DynFlags.html#t:DynFlags">DynFlags</a> <a href="src/Language.Haskell.Tools.Daemon.GetModules.html#flagsFromBuildInfo" class="link">Source</a> <a href="#v:flagsFromBuildInfo" class="selflink">#</a></p><div class="doc"><p>Collects the compilation options and enabled extensions from Cabal's build info representation
 for a single module. See <code>compileInContext</code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>